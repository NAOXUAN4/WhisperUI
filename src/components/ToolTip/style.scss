.ws-tooltip {
  display: inline-block;
  
  &.fade-enter-active,
  &.fade-leave-active {
    transition: opacity var(--ws-transition-duration-base) var(--ws-transition-timing-function);
  }

  &.fade-enter-from,
  &.fade-leave-to {
    opacity: 0;
  }

  .ws-tooltip__trigger {
    display: inline-block;
  }

  .ws-tooltip__popper {
    position: relative;
    background-color: var(--ws-white);
    border-radius: var(--ws-border-radius-lg);
    box-shadow: var(--ws-shadow-lg);
    padding: 8px 12px;
    font-size: 14px;
    line-height: 1.4;
    color: var(--ws-gray-800);
    min-width: 40px;
    max-width: 200px;
    word-wrap: break-word;
    z-index: 1000;
    
    &.auto-width {
      min-width: auto;
      width: max-content;
      white-space: nowrap;
    }

    #arrow {
      position: absolute;
      width: 8px;
      height: 8px;
      z-index: -1;
      
      &::before {
        position: absolute;
        width: 8px;
        height: 8px;
        background-color: var(--ws-white);
        content: "";
        transform: rotate(45deg);
        /* 移除箭头的单独阴影，让 tooltip 主体的阴影覆盖箭头 */
        box-shadow: none;
      }
    }

    /* 为所有方向统一设置边框 */
    #arrow::before {
      border: 1px solid var(--ws-border-color);
    }

    /* 根据方向隐藏不需要的边框 */
    &[data-popper-placement^="top"] #arrow::before {
      border-top: none;
      border-left: none;
    }

    &[data-popper-placement^="bottom"] #arrow::before {
      border-bottom: none;
      border-right: none;
    }

    &[data-popper-placement^="left"] #arrow::before {
      border-left: none;
      border-bottom: none;
    }

    &[data-popper-placement^="right"] #arrow::before {
      border-top: none;
      border-right: none;
    }

    // 箭头位置调整
    &[data-popper-placement^="top"] #arrow {
      bottom: -4px;
      left: 50%;
      transform: translateX(-50%);
    }

    &[data-popper-placement^="bottom"] #arrow {
      top: -4px;
      left: 50%;
      transform: translateX(-50%);
    }

    &[data-popper-placement^="left"] #arrow {
      right: -4px;
      top: 50%;
      transform: translateY(-50%);
    }

    &[data-popper-placement^="right"] #arrow {
      left: -4px;
      top: 50%;
      transform: translateY(-50%);
    }
  }
}